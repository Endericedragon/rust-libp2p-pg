# rw-stream-sink代码结构速览

该模块内容极少，其核心仅为`RwStreamSink` struct，内含数据源`inner`和待读取目标`current_item`。

该结构实现了`AsyncRead`和`AsyncWrite`两个trait。

- `AsyncRead`的实现：当需要读取时，不停地尝试从`inner`中取数据，直到取到数据。此时会获得一个`std::io::Cursor`，然后从这个Cursor中读一次数据，放入传入的`buf`中。
- `AsyncWrite`的实现：直接调用`self.inner....`来完成剩下的功能。

```no_run
github.com/AlDanial/cloc v 1.90  T=0.01 s (518.7 files/s, 34880.1 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Rust                             1             27             35            161
TOML                             1              4              2             23
Markdown                         2              7              0             10
-------------------------------------------------------------------------------
SUM:                             4             38             37            194
-------------------------------------------------------------------------------
```